# IR Image Viewer 快速参考指南

## 启动应用

```bash
# 基本启动
python main.py

# 启动并加载文件
python main.py image.bin

# 查看帮助
python main.py --help
```

## 控制面板参数

### 分辨率
| 参数 | 说明 | 选项 |
|------|------|------|
| 预设分辨率 | 常用分辨率 | 320×256, 640×512, 800×600, 1024×768, 1280×1024, 1920×1080 |
| 自定义分辨率 | 任意分辨率 | 1-10000像素 |

**设置自定义分辨率**:
1. 选择"自定义..."或点击"设置自定义分辨率..."
2. 输入宽度和高度
3. 点击确定

### 位深度
| 选项 | 说明 | 每像素字节数 |
|------|------|-------------|
| 8位 | 灰度值0-255 | 1字节 |
| 16位 | 灰度值0-65535 | 2字节 |

### 字节序（仅16位）
| 选项 | 说明 | 适用场景 |
|------|------|---------|
| 小端 | Little Endian | 大多数PC和x86系统 |
| 大端 | Big Endian | 网络协议、某些嵌入式系统 |

### 文件偏移
| 参数 | 说明 | 示例 |
|------|------|------|
| 偏移量 | 从文件的第N个字节开始读取 | 512 = 跳过前512字节 |
| 用途 | 跳过文件头或元数据 | 常见值：0, 512, 1024 |

## 图像操作

### 缩放
| 操作 | 快捷键 | 说明 |
|------|--------|------|
| 放大 | - | 点击工具栏"放大"按钮 |
| 缩小 | - | 点击工具栏"缩小"按钮 |
| 适应窗口 | - | 自动调整大小 |

### 像素信息
- 鼠标悬停在图像上
- 状态栏显示：坐标(X, Y)和像素值

## 多帧操作

### 帧导航
| 操作 | 按钮 | 说明 |
|------|------|------|
| 上一帧 | ◀ 上一帧 | 显示前一帧 |
| 下一帧 | 下一帧 ▶ | 显示后一帧 |
| 播放 | ▶ 播放 | 自动播放所有帧 |
| 暂停 | ⏸ 暂停 | 停止播放 |

## 十六进制视图

### 显示格式
```
地址偏移量 | 十六进制数据 | ASCII字符
00000000  | FF 00 AB CD | ....
```

### 搜索
1. 输入十六进制模式（如：FF00）
2. 点击搜索
3. 匹配位置高亮显示

## 常见问题快速解决

### 图像显示为全黑（16位）
✅ **自动解决**: 应用程序会自动应用直方图映射

如果仍然全黑：
1. 检查位深度设置是否正确
2. 尝试切换字节序
3. 验证分辨率设置

### 图像显示为噪声
1. ✅ 尝试不同的分辨率（包括自定义）
2. ✅ 切换8位/16位
3. ✅ 对于16位，切换字节序
4. ✅ 调整文件偏移量

### 文件加载失败
1. ✅ 检查文件是否存在
2. ✅ 检查文件权限
3. ✅ 确认文件不为空
4. ✅ 验证文件大小足够（至少一帧）

### 只显示部分图像
1. ✅ 检查文件大小是否足够
2. ✅ 计算所需字节数：
   - 8位：宽度 × 高度 × 1
   - 16位：宽度 × 高度 × 2
3. ✅ 调整分辨率或检查文件

## 计算公式

### 单帧大小
```
8位：  帧大小 = 宽度 × 高度 × 1 字节
16位： 帧大小 = 宽度 × 高度 × 2 字节
```

### 总帧数
```
总帧数 = (文件大小 - 文件偏移) ÷ 帧大小
```

### 示例计算
```
文件大小：10,485,760 字节 (10MB)
分辨率：640×512
位深度：16位
文件偏移：0

帧大小 = 640 × 512 × 2 = 655,360 字节
总帧数 = 10,485,760 ÷ 655,360 = 16 帧
```

## 性能提示

### 大文件
- ✅ >100MB自动使用内存映射
- ✅ 无需特殊配置

### 多帧播放
- ✅ 最近帧自动缓存
- ✅ 调整播放速度以获得流畅体验

### 十六进制视图
- ✅ 虚拟滚动，只渲染可见部分
- ✅ 大文件性能优秀

## 键盘快捷键

目前版本主要使用鼠标操作，未来版本将添加更多快捷键。

## 命令行选项

```bash
python main.py [选项] [文件路径]

选项:
  -h, --help          显示帮助信息
  -v, --version       显示版本号
  -f FILE, --file FILE  指定要加载的文件
```

## 文件格式支持

### 支持的格式
- ✅ 原始二进制数据（.bin, .raw, .dat等）
- ✅ 8位灰度
- ✅ 16位灰度
- ✅ 小端和大端字节序

### 不支持的格式
- ❌ PNG, JPEG等标准图像格式
- ❌ 彩色图像
- ❌ 压缩格式

## 技术规格

| 项目 | 规格 |
|------|------|
| 支持的分辨率 | 1×1 到 10000×10000 |
| 支持的位深度 | 8位, 16位 |
| 最大文件大小 | 受系统内存限制 |
| 大文件阈值 | 100MB |
| 十六进制视图 | 虚拟滚动，无大小限制 |

## 获取帮助

- 📚 完整文档：README.md
- 📖 使用示例：USAGE_EXAMPLES.md
- 🔬 技术细节：docs/HISTOGRAM_MAPPING.md
- 📝 更新日志：CHANGELOG.md
- 🐛 报告问题：GitHub Issues

## 版本信息

当前版本：1.0.0

查看版本：
```bash
python main.py --version
```
